[ { "sha": "02a3913cdc680f1f976036b1eaada58aae0eef0e", "filename": ".github/workflows/test.yaml", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/lq0317/github-actions-test/blob/86e3b5f9c50f9e0c5480d2147fe92953a86ceb40/.github%2Fworkflows%2Ftest.yaml", "raw_url": "https://github.com/lq0317/github-actions-test/raw/86e3b5f9c50f9e0c5480d2147fe92953a86ceb40/.github%2Fworkflows%2Ftest.yaml", "contents_url": "https://api.github.com/repos/lq0317/github-actions-test/contents/.github%2Fworkflows%2Ftest.yaml?ref=86e3b5f9c50f9e0c5480d2147fe92953a86ceb40", "patch": "@@ -1,15 +1,15 @@\n on:\n pull_request:\n- \tbranches:\n- \t\t- main\n- \tpaths:\n- \t\t- dockerfiles/**\n- env:\n- \tdefault_account: 148478469270\n+ branches:\n+ - master\n+ paths:\n+ - dockerfiles/**\n+env:\n+ default_account: 148478469270\n \n jobs:\n build:\n- runs-on: [self-hosted, linux, x64, eks, automation-default]\n+ runs-on: ubuntu-latest\n steps:\n - name: Checkout Code\n uses: actions/checkout@main\n@@ -19,9 +19,9 @@ jobs:\n with:\n registries: ${default_account}\n - name: List Changefile\n- \tid: changefile\n- \trun: |\n+ id: changefile\n+ run: |\n URL=\"https://api.github.com/repos/${{ github.repository }}/pulls/${{ github.event.pull_request.number }}/files\"\n response=$(curl -H 'authorization: *** secrets.Test }}' -H \"Accept: application/vnd.github.v3+json\" -s -X GET -G $URL)\n FILES=$(echo \"${response}\" | jq -r '.[] | .filename') \t\t\n- echo ${FILES}\n\\ No newline at end of file\n+ echo ${FILES}" } ]